<?php
/**
 * Created by PhpStorm.
 * User: amdin
 * Date: 2017/8/24
 * Time: 16:58
 */
namespace Prj\Model;
class ChannelFinal extends _ModelBase
{
    public function onInit()
    {
        $this->className = "ChannelInfo";
        parent::onInit(); // TODO: Change the autogenerated stub
        $this->_tbName = "tb_channel_final";
    }

    //渠道统计
    public static function getChannelRecord($where){
       return parent::getRecord('stock,sum(newRegNum) as newRegNum,sum(newBindNum) as newBindNum,sum(newBoughtNum) as newBoughtNum,sum(boughtAmount) as boughtAmount,sum(unexpiredAmount) as unexpiredAmount',$where);
    }

    //渠道日整体统计详情
    public static function getChannelDayRecord($where=[]){
        return parent::getRecords('ymd,stock,sum(newRegNum) as newRegNum,sum(newBindNum) as newBindNum,sum(newBoughtNum) as newBoughtNum,sum(boughtAmount) as boughtAmount,sum(unexpiredAmount) as unexpiredAmount',$where,'groupby ymd');
    }
}